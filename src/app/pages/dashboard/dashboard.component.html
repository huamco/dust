<div fxLayout="row wrap" *ngIf="!isViewDashboard">
    <div fxFlex="100" fxFlex.gt-sm="90" class="flex-p">

        <div *ngIf="'grid' == 'grid'" fxLayout="row wrap">
            <div *ngFor="let dust of this.dustData" fxFlex="100" fxFlex.gt-md="20" fxFlex.md="20" class="flex-p">
                <mat-card class="p-0" style="shape-image-threshold: inherit">
                    <div class="bg-primary" fxLayout="row" fxLayoutAlign="space-between center" style="height:30px;">
                        <h3 *ngIf="dust.dust.dustName" class="user-name"><a mat-button (click)="goDustConfig(dust.dustPacket[0]?.paramData,dust.dust.dustName, dust.dust.id, 'dashboard');">{{dust.dust.dustName}}</a> ({{dust.dust.dustType}})</h3>
                    </div>
                    <div *ngIf="dust.dustPacket[0]?.m_byType == 0">
                        <div style="margin-bottom:-6px;margin-top:10px;">
                            <img *ngIf="dust.dustPacket[0]?.fan1View == 1 && dust.dustPacket[0]?.m_byaAlarm_history == 0 && !dust.dustPacket[0]?.isViewError" src="assets/img/users/fan2.gif" class="transition-2" style="width:170px;margin-left: 20px;" (click)="setFanMode1(dust.dustPacket[0]?.currentDeviceData,'1','fan')">
                            <img *ngIf="dust.dustPacket[0]?.fan1View == 0 && dust.dustPacket[0]?.m_byaAlarm_history == 0  && !dust.dustPacket[0]?.isViewError" src="assets/img/users/fan1.gif" class="transition-2" style="width:170px;margin-left: 20px;" (click)="setFanMode1(dust.dustPacket[0]?.currentDeviceData,'0','fan')">
                        </div>
                        <div>
                            <img *ngIf="dust.dustPacket[0]?.pulsView == 1 && dust.dustPacket[0]?.m_byaAlarm_history == 0  && !dust.dustPacket[0]?.isViewError" src="assets/img/users/filter2.gif" class="transition-2" style="width:170px;margin-left: 20px;" (click)="setFanMode1(dust.dustPacket[0]?.currentDeviceData,'1','puls')">
                            <img *ngIf="dust.dustPacket[0]?.pulsView == 0 && dust.dustPacket[0]?.m_byaAlarm_history == 0  && !dust.dustPacket[0]?.isViewError" src="assets/img/users/filter1.gif" class="transition-2" style="width:170px;margin-left: 20px;" (click)="setFanMode1(dust.dustPacket[0]?.currentDeviceData,'0','puls')">
                        </div>
                        <div class="fan-img" *ngIf="dust.dustPacket[0]?.isViewError" class="fan-img" style="margin-top:10px;">
                            <img  src="assets/img/users/networker.gif" class="transition-2" style="width:170px;margin-left: 20px;" (click)="setFanMode1(dust.dustPacket[0]?.currentDeviceData,'1','puls')">
                        </div>
                        <div *ngIf="dust.dustPacket[0]?.m_byaAlarm_history === '1'" class="fan-img" style="margin-top:10px;">
                            <img *ngIf="dust.dustPacket[0]?.fan1View == 1 && !alarmError && !isViewError" src="assets/img/users/fan2.gif" class="transition-2" style="width:170px;margin-left: 20px;" (click)="setFanMode1(dust.dustPacket[0]?.currentDeviceData,'1','fan')">
                            <img *ngIf="dust.dustPacket[0]?.fan1View == 0 && !alarmError && !isViewError" src="assets/img/users/fan1.gif" class="transition-2" style="width:170px;margin-left: 20px;" (click)="setFanMode1(dust.dustPacket[0]?.currentDeviceData,'0','fan')">

                            <img src="assets/img/users/filterch.gif" class="transition-2" style="width:170px;margin-left: 20px;"/>
                        </div>
                        <div *ngIf="dust.dustPacket[0]?.m_byaAlarm_history === '2'" class="fan-img" style="margin-top:10px;">
                            <img src="assets/img/users/overcu.gif" class="transition-2" style="width:170px;margin-left: 20px;"/>
                        </div>
                        <div *ngIf="dust.dustPacket[0]?.m_byaAlarm_history === '4'" class="fan-img" style="margin-top:10px;">
                            <img *ngIf="dust.dustPacket[0]?.fan1View == 1 && !alarmError && !isViewError" src="assets/img/users/fan2.gif" class="transition-2" style="width:170px;margin-left: 20px;" (click)="setFanMode1(dust.dustPacket[0]?.currentDeviceData,'1','fan')">
                            <img *ngIf="dust.dustPacket[0]?.fan1View == 0 && !alarmError && !isViewError" src="assets/img/users/fan1.gif" class="transition-2" style="width:170px;margin-left: 20px;" (click)="setFanMode1(dust.dustPacket[0]?.currentDeviceData,'0','fan')">

                            <img src="assets/img/users/overdi.gif" class="transition-2" style="width:170px;margin-left: 20px;"/>
                        </div>
                        <div *ngIf="dust.dustPacket[0]?.m_byaAlarm_history === '10' || dust.dustPacket[0]?.m_byaAlarm_history === '20'" class="fan-img" style="margin-top:10px;">
                            <img src="assets/img/users/balancecu.gif" class="transition-2" style="width:170px;margin-left: 20px;"/>
                        </div>
                        <div style="margin-top:5px;width:220px;">
                            <div style="width:150px;margin-left: 25px;margin-bottom: 5px;" >
                                <mat-chip-list class="mat-chip-list-stacked">
                                    <mat-chip class="custom-chip" *ngIf="dust.dust.m_wPower_value" style="text-align: center">전압 {{dust.dustPacket[0]?.m_wPower_value}} V</mat-chip>
                                </mat-chip-list>
                            </div>
                            <div style="width:150px;margin-left: 25px;margin-bottom: 5px;" >
                                <mat-chip-list class="mat-chip-list-stacked">
                                    <mat-chip class="custom-chip" *ngIf="dust.dust.m_wAuto_puls_val">차압 {{dust.dustPacket[0]?.m_wPressure}} mmAq</mat-chip>
                                </mat-chip-list>
                            </div>
                            <div style="width:150px;margin-left: 25px;margin-bottom: 5px;" >
                                <mat-chip-list class="mat-chip-list-stacked" style="display:inline; !important;">
                                    <mat-chip class="custom-chip" *ngIf="dust.dust.m_waCurrent_nowx10">전류 {{dust.dustPacket[0]?.m_waCurrent_nowx10}} A</mat-chip>
                                </mat-chip-list>
                            </div>
                            <div style="width:150px;margin-left: 25px;margin-bottom: 5px;" >
                                <mat-chip-list class="mat-chip-list-stacked">
                                    <mat-chip class="custom-chip" *ngIf="dust.dust.m_fParam_power">전력 {{dust.dustPacket[0]?.m_fParam_power}} kW/h</mat-chip>
                                </mat-chip-list>
                            </div>
                            <div style="width:150px;margin-left: 25px;margin-bottom: 5px;" >
                                <mat-chip-list class="mat-chip-list-stacked"><!--m_byValve_sel-->
                                    <mat-chip class="custom-chip" *ngIf="dust.dust.m_byReserved">벨브 {{dust.dustPacket[0]?.m_byValve_sel}} </mat-chip>
                                </mat-chip-list>
                            </div>
                            <div style="width:150px;margin-left: 25px;margin-bottom: 5px;" >
                                <mat-chip-list class="mat-chip-list-stacked">
                                    <mat-chip class="custom-chip" *ngIf="dust.dust.m_byReserved">인버터 {{dust.dustPacket[0]?.m_byReserved}} %</mat-chip>
                                </mat-chip-list>
                            </div>
                            <div style="width:150px;margin-left: 25px;margin-bottom: 5px;" >
                                <mat-chip-list class="mat-chip-list-stacked">
                                    <mat-chip class="custom-chip" *ngIf="dust.dustPacket[0]?.m_byType === '0'">PANNEL</mat-chip>
                                    <mat-chip class="custom-chip" *ngIf="dust.dustPacket[0]?.m_byType === '1'">LINK</mat-chip>
                                    <mat-chip class="custom-chip" *ngIf="dust.dustPacket[0]?.m_byType === '2'">REMOTE</mat-chip>
                                </mat-chip-list>
                            </div>
                        </div>
                    </div>

                </mat-card>

            </div>
        </div>
    </div>
</div>

<app-dashboard-list *ngIf="isViewDashboard" [pushParamData]="pushParamData" (cancelViewDashboard)="backDustDashboard($event)" [paramDustName]="paramDustName" [paramDustId]="paramDustId"></app-dashboard-list>
